{% extends 'base.html' %}
{% block title %}drp — how it works{% endblock %}
{% block content %}
<div class="help-page">
  <h1>how it works</h1>

  <section>
    <h2>the idea</h2>
    <p>drp is a lightweight drop point for text and files. Pick a key, drop something, share the link. No forms, no friction. A <strong>key</strong> is your address — whoever has it can reach the content.</p>
  </section>

  <section>
    <h2>dropping something</h2>
    <p>From the home page, paste text or drop a file. Pick a key or leave it blank for an auto-generated one. Hit <em>save & get link</em> — you'll land on <code>/your-key</code> with a shareable URL ready to copy.</p>
    <p>If a key is already taken you'll see a ✗ indicator as you type. Keys can be renamed at any time from the drop page — the old URL stops working immediately.</p>
  </section>

  <section>
    <h2>accessing a drop</h2>
    <p>Go to <code>/your-key</code>. Text drops can be read, copied, edited, or downloaded as <code>.txt</code>. File drops can be downloaded. You can replace either directly on the page if you have edit access.</p>
  </section>

  <section>
    <h2>expiry</h2>
    <p>Anonymous text drops expire <strong>24 hours</strong> after creation. Anonymous file drops expire <strong>90 days</strong> after creation. When a drop expires everything is permanently deleted: content, file, and key.</p>
    <p>Anonymous drops have a <strong>24-hour safety window</strong> after creation during which the key is reserved — no one else can overwrite it.</p>
    <p>Paid accounts get explicit expiry dates (up to 1 or 3 years depending on plan), set at creation and renewable any time from the drop page.</p>
  </section>

  <section>
    <h2>locking</h2>
    <p>By default, anyone with the key can replace an anonymous drop's content — the key is the only protection, so treat it like a password for sensitive content.</p>
    <p>Drops created by paid accounts are <strong>locked to the owner</strong>: only the logged-in account holder can edit, rename, or delete them. Anonymous drops get a 24-hour creation window where the original creator (by session) can still make changes.</p>
  </section>

  <section>
    <h2>accounts</h2>
    <p>Free accounts let you sync your drop list across devices — your drops show up in the dashboard on any machine you log into. Paid plans (Starter $3/mo, Pro $8/mo) add larger file limits, storage quota, longer expiry, and locked drops.</p>
    <p>To reset your password, use the <a href="/auth/forgot-password/">forgot password</a> link on the login page — a reset link will be emailed to you directly.</p>
  </section>

  <section>
    <h2>dashboard</h2>
    <p>Logged-in users see their drops pulled from the server. Anonymous users get a local dashboard stored in the browser's <code>localStorage</code> — it's never sent to the server. You can export it as a JSON file and import it on any other device or browser to restore your list.</p>
  </section>

  <section>
    <h2>sync client</h2>
    <p>The sync client watches a local folder and automatically syncs files to drp — like a lightweight OneDrive. Each file gets a key based on its filename. Set up in one command:</p>
    <pre><code>make sync-setup</code></pre>
    <p>This installs dependencies, asks for your host URL and sync folder, and optionally logs you in. After setup:</p>
    <pre><code>make sync          # start syncing
make sync-login    # (re)authenticate
make sync-status   # show config &amp; tracked files</code></pre>
    <p>If logged in, your synced files are owned by your account — they get plan-based expiry and are locked to you. Anonymous sync works too, but files expire after 90 days.</p>
    <p>On startup, the client checks which remote keys are still alive and re-uploads any that expired. Deleting a local file removes the remote drop too.</p>
  </section>

  <section>
    <h2>privacy</h2>
    <p>drp is <a href="https://github.com/Vic-Nas/drp">open source</a>. Files are stored on Cloudinary. Text is stored in a Postgres database. There is no encryption at rest — don't store secrets or sensitive personal data. Security is through obscurity only: a hard-to-guess key is your only protection.</p>
    <p>Found a bug or have a feature request? <a href="https://github.com/Vic-Nas/drp/issues">Open an issue on GitHub</a>.</p>
  </section>

</div>
{% endblock %}